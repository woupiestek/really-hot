\documentclass[csh.tex]{subfiles}
\begin{document}

\section{Model Structure}
This section explains the model structure that exists of a subcategory of $\ambient\s$.

\hide{ Finding  model structure on $\ambient$ is more difficult. Only the decidable-split system works, but is hard to extend to a system where weak equivalences satisfy 2-out-of-3. }

\begin{definition} An \keyword{model structure} on a $\cat A$-enriched category $\cat C$ consist of three sets of morphism: the \emph{fibrations} $F$, the \emph{cofibrations} $C$ and the \emph{weak equivalences} $W$ which have the following properties. 
\begin{itemize}
\item The set $W$ satisfies \emph{2-out-of-3} which means that for every pair of morphisms $f\of X\to Y$ and $g\of Y\to Z$ of $\cat C$, if two out of $f$, $g$ and $g\circ f$ are in $W$ then all are. 
\item The pairs of sets $(C,F\cap W)$ and $(C\cap W,F)$ are \emph{enriched factorization systems} (see definition \ref{enriched factorization system}). 
\end{itemize}

Categories with such a structure are \emph{model categories}. Members of $C\cap W$ are called \keyword{acyclic cofibrations} and members of $F\cap W$ are called \keyword{acyclic fibrations}.
\end{definition}

This notion of model structure is the ordinary one, except for the kind of factorization systems the morphisms in it form.

\begin{definition}
An \keyword{enriched factorization system} is a pairs of set of morphisms $(L,R)$ of an enriched category with the following properties.
\begin{itemize}
\item A morphism belong to $L$ if and only if it has the \emph{left lifting property} with respect all to members of $R$.
\item A morphism belong to $R$ if and only if it has the \emph{right lifting property} with respect all to members of $L$.
\item Every morphism factors as a member of $R$ following a member of $L$.
\end{itemize}

A morphism $f\of X\to Y$ of an $\cat A$-enriched category $\cat C$ has the \emph{right lifting property} with respect to a morphism $g\of I\to J$--and $g$ has the \emph{left lifting property} with respect to $f$--if the morphism $\tuplet{f_!,g\ri} = \tuplet{\cat C(\id_J,f),\cat C(g,\id_X))}$ which is the factorization of the span $\cat C(\id_J,f)$, $\cat C(g,\id_X)$ through the pullback cone of $\cat C(\id_I,f)$ and $\cat C(g,\id_Y)$ is a \emph{split} epimorphism.
\[\xy
(34,20)*+{\cat C(I,X)}="top",(0,10)*+{\cat C(J,X)}="left",(24,10)*+{\bullet}="middle",(44,10)*+{\cat C(I,Y)}="right",(34,0)*+{\cat C(J,Y)}="bottom"
\ar^{\cat C(g,\id_X)} "left";"top" \ar@{.>}|(.6){\tuplet{f_!,g\ri}} "left";"middle" \ar_{\cat C(\id_J,f)} "left";"bottom" \ar "middle";"bottom"
\ar "middle";"top" \ar^(.6){\cat C(\id_I,f)} "top";"right" \ar_(.6){\cat C(g,\id_Y)} "bottom";"right"
\endxy\]
A section of $\tuplet{f_\bang,g\ri}$ is a \keyword{filler operator}.
\end{definition}

In $\ambient\s$ we make the following selections. 

\begin{definition} A morphism $f\of X\to Y$ of category $\ambient\s$ is a \keyword{fibration} if it has the right lifting property with respect to the family of all \emph{horn inclusions}, which is defined as follows. 

For each $n\in\N$, the $n$-\keyword{simplex} $\simplex[n]$ is the internal simplicial set where $\base{\simplex[n]}$ is the object of all morphisms $\phi$ in $\simCat$ such that $\cod(\phi) = n$, $\dim(\phi) = \dom(\phi)$ and $\phi\cdot \xi = \phi\circ \xi$. For each $k\of[n]$ the \keyword{horn} $\horn_k[n]$ is the subobject of the non decreasing maps $[m]\to [n]$ that are not onto the set $[n]-\set{k}$.
\[ \base{\horn_k[n]} = \set{\phi\of\base{\simplex[n]}| \exists i\of[n]-\set k.\forall j\of \dom(\phi).\phi(i)\neq j } \]
The \keyword{horn inclusion} is the monomorphism $\horn_k[n]\to\simplex[n]$. The \emph{family of horn inclusions} is the sum of all horn inclusions $\coproduct{k\leq n\of\nno}{\horn_k[n]}\to \coproduct{k\leq n\of\nno}{\simplex[n]}$ that exists as a morphism of $\ambient\s$.

The lifting property that $f$ satisfies is defined in a slice category of $\ambient\s$. Let $I = \set{\tuplet{n,k}\of\nno\times\nno|k\leq n}$. The family of horn inclusions is a morphism in $\ambient\s/I\disc$ (see example \ref{discrete}). So is the multiple $I\disc\times f\of I\disc\times X\to I\disc\times Y$ of $f$. The morphism $f$ is a fibration if $I\disc\times f$ has the right lifting property with respect to $\coproduct{k\leq n\of\nno}{\horn_k[n]}\to \coproduct{k\leq n\of\nno}{\simplex[n]}$.
\end{definition}

\begin{example} If $\ambient$ is the topos of sets, then the morphisms that satisfy this definition are precisely the \emph{Kan fibrations}. In that case the axiom of choice implies a filler operator exists. \end{example}

\begin{definition} A monomorphism $f\of X\to Y$ of category $\ambient\s$ is a \keyword{cofibration} if subobject of faces of $Y$ which are not in the image of $X$ is decidable. A \keyword{face} of $Y$ is a $y\of\base Y$ such that if $\phi\of [\dim(y)]\to [\dim(y)]$ in $\simCat$ and $y\cdot \phi = y$, then $\phi = \id_{\dim(y)}$. Elements of $\base Y$ which are not faces are called \keyword{degenerate}, so a face is a non degenerate element of $\base Y$. Hence $f$ is a cofibration if there is a morphism $\psi\of\base Y\to\bool$ such that $\psi(y)=\false$ if an only if $y$ is degenerate or equal to $f(x)$ for some $x\of \base X$.\end{definition}

In the category of simplicial sets all monomorphism are cofibrations. Decidability comes for free there.

\begin{definition} A \keyword{weak equivalence} is a composition of an acyclic fibration following an acyclic cofibration. Here, an \emph{acyclic fibration} is a morphism that has the right lifting property with respect to all cofibrations; an \emph{acyclic cofibration} is a cofibration has the right lifting property with respect to all fibrations.
\end{definition}

The theorems in this paper should work in a $\Pi$-pretopos $\ambient$ that doesn't have infinite colimits. The small object argument uses such colimits to provide factorizations of morphisms and therefore we cannot use it here. To get a model structure we retreat to a subcategory of $\ambient\s$.

\begin{definition} A \keyword{complex} is a tuple $\tuplet{\base X,\dim,\cdot,\filler}$ where $\tuplet{\base X,\dim,\cdot}$ is a simplicial object and $\filler$ is a filler operator (see definition \ref{enriched factorization system}) for the unique morphism $\bang\of \tuplet{\base X,\dim,\cdot}\to 1\disc$. A morphism of complexes is simply a morphism of simplicial objects. The \emph{category of complexes} and morphisms of complexes is $\ambient\s\f$.
\end{definition}

\begin{example} Each discrete simplicial object has a canonical filler operator, which means that $\function{I\of\ambient}{I\disc}$ factors through the category of complexes. All simplices are complexes. Horns are not, however.
\end{example}
%are discrete objects complexes? Give them as example then?

\begin{theorem}[Model category]
With fibrations, weak equivalences and cofibrations defined as above the $\ambient$-enriched category $\ambient\s\f$ is a model category.
\label{model category}
\end{theorem}

\begin{proof}
Lemma \ref{factorization system 1} shows that cofibrations and acyclic fibrations form a weak factorization system. Lemma \ref{factorization system 2} tells the same thing about fibrations and acyclic cofibrations. Lemma \ref{toot} demonstrates that if two of $f$, $g$ and $f\circ g$ are weak equivalences, then all three are. These three requirements define a model structure.
\end{proof}

\end{document}